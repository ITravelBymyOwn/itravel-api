<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <title>ITravelByMyOwn Â· Planner</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" href="https://cdn.prod.website-files.com/img/favicon.ico" />
  <link rel="stylesheet" href="./planner.css?v=57" />

  <!-- TipografÃ­a -->
  <link href="https://fonts.googleapis.com" rel="preconnect" />
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous" />
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js"></script>
  <script>
    WebFont.load({ google: { families: ["Inter:400,500,600,700"] } });
  </script>
</head>
<body>
  <!-- TOPBAR -->
  <div class="topbar">
    <div class="brand">ITravelByMyOwn Planner</div>
    <div class="lang">
      <a href="#" class="active">ES</a>
      <a href="#">EN</a>
      <a href="#">FR</a>
      <a href="#">PT</a>
    </div>
    <!-- BotÃ³n Info Chat WOW âœ¨ -->
    <button id="info-chat-toggle" class="btn info-chat-btn pulse" title="Abrir Info Chat">ğŸ’¬ Info Chat</button>
  </div>

  <div id="planner-grid">
    <!-- SIDEBAR -->
    <aside class="sidebar">
      <h2>Planificador</h2>

      <section class="box">
        <h3>Destinos</h3>
        <div id="city-list"></div>
        <div class="row-actions">
          <button class="btn ghost" id="add-city-btn">+ Agregar ciudad</button>
        </div>
        <button class="btn primary w-100" id="save-destinations">Guardar destinos</button>
        <!-- ğŸ†• BotÃ³n de reinicio reubicado -->
        <button id="reset-planner" class="btn warn w-100" style="margin-top:0.5rem;" disabled>Reiniciar planificaciÃ³n</button>
      </section>

      <section class="box special-conditions">
        <h3>Preferencias / Restricciones / Condiciones especiales</h3>
        <textarea id="special-conditions" placeholder="âœ¨ CuÃ©ntale a Astra exactamente cÃ³mo quieres vivir tu viaje.
Esta informaciÃ³n permitirÃ¡ crear un itinerario 100 % alineado contigo.

ğŸï¸ Estilo y actividades â†’ â€œPrefiero naturaleza y paisajes. Evitar museos.â€ / â€œQuiero tours autÃ©nticos, no masivos.â€
ğŸš— Transporte â†’ â€œVoy a rentar un 4x4.â€ / â€œUsarÃ© transporte pÃºblico.â€ / â€œUber o taxi cuando sea necesario.â€
ğŸƒ Ritmo y nivel de aventura â†’ â€œViaje relax.â€ / â€œBalanceado.â€ / â€œAventura extrema.â€
ğŸ§­ Actividades imperdibles â†’ â€œCaza de auroras.â€ / â€œAvistamiento de ballenas.â€ / â€œTour al CÃ­rculo Dorado.â€
âš•ï¸ Salud y restricciones â†’ â€œAsma, movilidad reducida, problemas de rodillas, alergias alimentarias.â€
ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Otros detalles importantes â†’ â€œViajo con niÃ±os pequeÃ±os.â€ / â€œNecesito horarios flexibles.â€ / â€œEvitar caminatas largas.â€

ğŸ“ Entre mÃ¡s detalles indiques, mÃ¡s preciso, fluido y personalizado serÃ¡ tu itinerario."></textarea>
      </section>

      <section class="box">
        <h3>Viajeros</h3>
        <div id="traveler-grid">
          <label>Adultos (18â€“64)<input id="p-adults" type="number" min="0" value="1"></label>
          <label>JÃ³venes (13â€“17)<input id="p-young" type="number" min="0" value="0"></label>
          <label>NiÃ±os (6â€“12)<input id="p-children" type="number" min="0" value="0"></label>
          <label>Infantes (0â€“5)<input id="p-infants" type="number" min="0" value="0"></label>
          <label>Mayores (65+)<input id="p-seniors" type="number" min="0" value="0"></label>
        </div>
      </section>

      <section class="box budget-box">
        <h3>Presupuesto total</h3>
        <div class="grid-2">
          <label>Monto<input id="budget" type="number" min="0" placeholder="ej. 1500"></label>
          <label>Moneda
            <select id="currency">
              <option value="USD" selected>$ USD</option>
              <option value="EUR">â‚¬ EUR</option>
              <option value="GBP">Â£ GBP</option>
              <option value="CRC">â‚¡ CRC</option>
            </select>
          </label>
        </div>
      </section>
    </aside>

    <!-- MAIN -->
    <main class="main">
      <section class="box itinerary-section">
        <h2>Itinerario</h2>

        <div class="itinerary-actions">
          <button id="start-planning" class="btn primary" disabled>Iniciar planificaciÃ³n</button>
        </div>

        <div id="chat-container" class="chat" style="display:none;">
          <div id="chat-messages" class="chat-messages" aria-live="polite"></div>
          <div class="chat-input">
            <input id="chat-input" type="text" placeholder="Escribe tu mensaje..." />
            <button id="send-btn" class="btn primary">Enviar</button>
          </div>
        </div>

        <div class="city-tabs" id="city-tabs"></div>
        <div id="itinerary-container"></div>

        <div class="toolbar">
          <button class="btn" id="btn-pdf">Exportar PDF</button>
          <button class="btn" id="btn-email">Enviar por Email</button>
          <button class="btn" id="btn-maps">Mapas</button>
          <button class="btn" id="btn-transport">Transporte</button>
          <button class="btn" id="btn-weather">Clima</button>
          <button class="btn" id="btn-clothing">Ropa</button>
          <button class="btn" id="btn-restaurants">Restaurantes</button>
          <button class="btn" id="btn-gas">Gasolineras</button>
          <button class="btn" id="btn-bathrooms">BaÃ±os</button>
          <button class="btn" id="btn-lodging">Hospedaje</button>
          <button class="btn" id="btn-localinfo">Info Local</button>
        </div>

        <button id="confirm-itinerary" class="btn primary w-100" style="margin-top:1rem;">Elijo este itinerario</button>
      </section>
    </main>
  </div>

  <footer class="footer">
    Â© 2025 ITravelByMyOwn â€” <a href="#">TÃ©rminos</a> Â· <a href="#">Privacidad</a>
  </footer>

  <!-- Modal Info Chat -->
  <div id="info-chat-modal" class="info-chat-modal" style="display:none;">
    <div class="info-chat-panel">
      <div class="info-chat-header">
        <h3>Info Chat Â· Astra ğŸŒ</h3>
        <button id="info-chat-close" class="btn ghost">âœ–</button>
      </div>
      <div id="info-chat-messages" class="chat-messages"></div>
      <div class="chat-input">
        <textarea id="info-chat-input" placeholder="Hazme cualquier pregunta sobre viajes..." rows="1"></textarea>
        <button id="info-chat-send" class="btn primary">Enviar</button>
      </div>
    </div>
  </div>

  <!-- Overlay de carga -->
  <div id="loading-overlay" style="display:none;">
    <div class="loader">
      <div class="hourglass"></div>
      <p>Astra estÃ¡ generando itinerarios...</p>
    </div>
  </div>

  <!-- ğŸ§  Indicador estilo ChatGPT (Planner) -->
  <div id="thinking-indicator">
    <span></span><span></span><span></span>
  </div>

  <!-- ğŸ§  Indicador estilo ChatGPT (Info Chat) -->
  <div id="thinking-indicator-info">
    <span></span><span></span><span></span>
  </div>

  <!-- ğŸ†• BotÃ³n flotante Info Chat -->
  <button id="info-chat-floating" class="info-chat-floating pulse" title="Abrir Info Chat">
    ğŸ’¬ Info Chat
  </button>

  <!-- ğŸ†• Modal Reinicio -->
  <div id="reset-overlay" class="reset-overlay">
    <div class="reset-modal">
      <h3>Â¿Quieres reiniciar la planificaciÃ³n?</h3>
      <p>Esto eliminarÃ¡ todos los destinos y preferencias actuales.</p>
      <button id="confirm-reset" class="btn primary">SÃ­, reiniciar</button>
      <button id="cancel-reset" class="btn ghost">Cancelar</button>
    </div>
  </div>

  <script src="./planner.js?v=57"></script>
</body>
</html>
