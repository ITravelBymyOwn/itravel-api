<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <title>I Travel ‚Äî By My Own ¬∑ Planner</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" href="https://cdn.prod.website-files.com/img/favicon.ico" />

  <!-- Estilos globales (Home) -->
  <link rel="stylesheet" href="assets/css/main.css" />
  <!-- Estilos del planner (este archivo lo reemplazas en el paso 2) -->
  <link rel="stylesheet" href="./planner.css?v=72" />

  <!-- Tipograf√≠a -->
  <link href="https://fonts.googleapis.com" rel="preconnect" />
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous" />
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js"></script>
  <script>WebFont.load({ google: { families: ["Inter:400,500,600,700,800"] } });</script>
</head>
<body class="theme-light">
  <!-- Loader global -->
  <div id="app-loader" class="loader hidden" aria-hidden="true">
    <div class="loader-track"><div class="loader-bar"></div></div>
    <div class="loader-veil"><div class="spinner" aria-label="Cargando"></div></div>
  </div>

  <!-- Header premium (homog√©neo con Home) -->
  <header class="site-header is-sticky" data-sticky>
    <div class="container header-inner">
      <a class="brand" href="index.html" aria-label="I Travel ‚Äî By My Own">
        <div class="wordmark">
          <span class="i-travel">I Travel</span>
          <span class="by-my-own">By My Own</span>
        </div>
      </a>

      <nav class="nav" aria-label="Principal">
        <!-- Idiomas y bot√≥n Info Chat integrados -->
        <div class="inline-controls">
          <a class="lang-pill is-active" href="#" aria-label="Espa√±ol">ES</a>
          <a class="lang-pill" href="#">EN</a>
          <a class="lang-pill" href="#">FR</a>
          <a class="lang-pill" href="#">PT</a>
          <button id="info-chat-toggle" class="btn btn-ghost info-chat-btn" title="Abrir Info Chat">üí¨ Info Chat</button>
        </div>

        <button class="nav-toggle" aria-expanded="false" aria-controls="nav-menu">
          <span class="nav-toggle-bar"></span><span class="sr-only">Abrir men√∫</span>
        </button>
        <ul id="nav-menu" class="nav-menu">
          <li><a href="index.html">Home</a></li>
          <li><a class="is-active" href="planner.html">Planner</a></li>
          <li><a href="pricing.html" data-aff="pricing">Pricing</a></li>
          <li><a href="dashboard.html">Dashboard</a></li>
          <li class="nav-cta"><a href="auth.html">Login</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- Bot√≥n flotante Home (m√≥vil) -->
  <a href="index.html" class="fab-home" aria-label="Volver al Home">üè†</a>

  <!-- GRID renovado y amplio -->
  <main class="planner-shell block-padding" style="padding-top:24px;">
    <div id="planner-grid" class="container planner-grid">
      <!-- SIDEBAR -->
      <aside class="sidebar card">
        <h2>Planificador</h2>

        <section class="box">
          <h3>Destinos</h3>
          <div id="city-list"></div>
          <div class="row-actions">
            <button class="btn btn-ghost" id="add-city-btn">+ Agregar ciudad</button>
          </div>
          <button class="btn btn-primary w-100" id="save-destinations">Guardar destinos</button>
          <button id="reset-planner" class="btn btn-warn w-100" style="margin-top:.6rem;" disabled>
            Reiniciar planificaci√≥n
          </button>
        </section>

        <section class="box special-conditions">
          <h3>Preferencias / Restricciones / Condiciones especiales</h3>
          <textarea id="special-conditions" class="textarea-lg" placeholder="‚ú® Cu√©ntale a Astra exactamente c√≥mo quieres vivir tu viaje..."></textarea>
          <p class="muted small" style="margin-top:.4rem">Entre m√°s detalles, mejor ajuste del itinerario.</p>
        </section>

        <section class="box">
          <h3>Viajeros</h3>
          <div id="traveler-grid" class="grid-2 sm-grid-1">
            <label>Adultos (18‚Äì64)<input id="p-adults" type="number" min="0" value="1"></label>
            <label>J√≥venes (13‚Äì17)<input id="p-young" type="number" min="0" value="0"></label>
            <label>Ni√±os (6‚Äì12)<input id="p-children" type="number" min="0" value="0"></label>
            <label>Infantes (0‚Äì5)<input id="p-infants" type="number" min="0" value="0"></label>
            <label>Mayores (65+)<input id="p-seniors" type="number" min="0" value="0"></label>
          </div>
        </section>

        <section class="box budget-box">
          <h3>Presupuesto total</h3>
          <div class="grid-2 sm-grid-1">
            <label>Monto<input id="budget" type="number" min="0" placeholder="ej. 1500"></label>
            <label>Moneda
              <select id="currency">
                <option value="USD" selected>$ USD</option>
                <option value="EUR">‚Ç¨ EUR</option>
                <option value="GBP">¬£ GBP</option>
                <option value="CRC">‚Ç° CRC</option>
              </select>
            </label>
          </div>
        </section>
      </aside>

      <!-- MAIN -->
      <section class="main card itinerary-section">
        <div class="section-head">
          <h2 class="h2">Itinerario</h2>
          <p class="muted">Genera, ajusta y confirma tu plan ideal.</p>
        </div>

        <div class="itinerary-actions">
          <button id="start-planning" class="btn btn-primary" disabled>Iniciar planificaci√≥n</button>
        </div>

        <div id="chat-container" class="chat" style="display:none;">
          <div id="chat-messages" class="chat-messages" aria-live="polite"></div>
          <div class="chat-input">
            <input id="chat-input" type="text" placeholder="Escribe tu mensaje..." />
            <button id="send-btn" class="btn btn-primary">Enviar</button>
          </div>
        </div>

        <div class="city-tabs" id="city-tabs"></div>
        <div id="itinerary-container"></div>

        <div class="toolbar">
          <button class="btn" id="btn-pdf">Exportar PDF</button>
          <button class="btn" id="btn-email">Enviar por Email</button>
          <button class="btn" id="btn-maps">Mapas</button>
          <button class="btn" id="btn-transport">Transporte</button>
          <button class="btn" id="btn-weather">Clima</button>
          <button class="btn" id="btn-clothing">Ropa</button>
          <button class="btn" id="btn-restaurants">Restaurantes</button>
          <button class="btn" id="btn-gas">Gasolineras</button>
          <button class="btn" id="btn-bathrooms">Ba√±os</button>
          <button class="btn" id="btn-lodging">Hospedaje</button>
          <button class="btn" id="btn-localinfo">Info Local</button>
        </div>

        <button id="confirm-itinerary" class="btn btn-primary w-100" style="margin-top:1rem;">Elijo este itinerario</button>
      </section>
    </div>

    <!-- Faja de inspiraci√≥n (scroll largo, fotos y copy motivador) -->
    <section class="inspo block-padding">
      <div class="container">
        <h3 class="h2">Insp√≠rate para tu pr√≥ximo viaje</h3>
        <p class="muted">Paisajes espectaculares, ciudades vibrantes y rutas inolvidables.</p>
        <div class="inspo-mosaic">
          <div class="ph"></div><div class="ph"></div><div class="ph"></div><div class="ph"></div>
          <div class="ph"></div><div class="ph"></div><div class="ph"></div><div class="ph"></div>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer premium -->
  <footer class="site-footer">
    <div class="container footer-grid">
      <div class="footer-brand">
        <div class="wordmark small">
          <span class="i-travel">I Travel</span>
          <span class="by-my-own">By My Own</span>
        </div>
        <p class="muted small">¬© <span id="y"></span> I Travel ‚Äî By My Own. Todos los derechos reservados.</p>
      </div>
      <nav class="footer-nav" aria-label="Enlaces del sitio">
        <a href="pricing.html">Pricing</a>
        <a href="dashboard.html">Dashboard</a>
        <a href="auth.html">Login</a>
      </nav>
      <div class="footer-social">
        <a href="#" aria-disabled="true" title="Pr√≥ximamente">Instagram</a>
        <a href="#" aria-disabled="true" title="Pr√≥ximamente">YouTube</a>
        <a href="#" aria-disabled="true" title="Pr√≥ximamente">X / Twitter</a>
      </div>
    </div>
  </footer>

  <!-- Modal Info Chat (IDs intactos) -->
  <div id="info-chat-modal" class="info-chat-modal" style="display:none;">
    <div class="info-chat-panel">
      <div class="info-chat-header">
        <h3>Info Chat ¬∑ Astra üåç</h3>
        <button id="info-chat-close" class="btn btn-ghost">‚úñ</button>
      </div>
      <div id="info-chat-messages" class="chat-messages"></div>
      <div class="chat-input">
        <textarea id="info-chat-input" placeholder="Hazme cualquier pregunta sobre viajes..." rows="1"></textarea>
        <button id="info-chat-send" class="btn btn-primary">Enviar</button>
      </div>
    </div>
  </div>

  <!-- Overlay de carga -->
  <div id="loading-overlay" style="display:none;">
    <div class="loader">
      <div class="hourglass"></div>
      <p>Astra est√° generando itinerarios...</p>
    </div>
  </div>

  <!-- Indicadores -->
  <div id="thinking-indicator"><span></span><span></span><span></span></div>
  <div id="thinking-indicator-info"><span></span><span></span><span></span></div>

  <!-- UI global -->
  <script defer src="assets/js/ui.js"></script>
  <!-- Tu l√≥gica (intacta) -->
  <script defer src="./planner.js?v=57"></script>
</body>
</html>
