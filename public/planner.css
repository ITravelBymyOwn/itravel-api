:root{
  --brand-500:#0EA47A; 
  --brand-600:#0B8664;
  --ink:#101828; 
  --muted:#667085;
  --surface:#F8FAFC; 
  --white:#FFF;
  --radius:.8rem; 
  --shadow:0 4px 16px rgba(16,24,40,.08);
  --chat-bg:#F6F9FC;
  --chat-user:#0EA47A15;
  --chat-ai:#FFFFFF;
}

*{box-sizing:border-box}
body{margin:0;background:var(--surface);color:var(--ink);font-family:Inter,system-ui,Segoe UI,Roboto,sans-serif}

/* Topbar */
.topbar{display:flex;justify-content:space-between;align-items:center;background:#fff;border-bottom:1px solid #e5e7eb;padding:.8rem 1.25rem;position:sticky;top:0;z-index:50;box-shadow:var(--shadow)}
.topbar .brand{font-weight:700;color:var(--brand-600);font-size:1.2rem}
.topbar .lang a{margin-left:.6rem;text-decoration:none;color:var(--muted);font-weight:600}
.topbar .lang a.active{color:var(--brand-600)}

/* GRID */
#planner-grid{display:grid;grid-template-columns:520px 1fr;gap:1.25rem;padding:1rem 1.25rem;max-width:1600px;margin:0 auto}
@media (max-width:1280px){#planner-grid{grid-template-columns:500px 1fr}}
@media (max-width:1100px){#planner-grid{grid-template-columns:1fr}}

/* Sidebar */
.sidebar{background:#fff;border:1px solid #e5e7eb;border-radius:var(--radius);box-shadow:var(--shadow);padding:1rem;max-height:calc(100vh - 120px);overflow:auto}
.box{background:#fff;border:1px solid #eef2f7;border-radius:var(--radius);padding:1rem;margin-bottom:1rem;box-shadow:0 1px 6px rgba(0,0,0,0.03)}
.row-actions{display:flex;gap:.5rem;margin:.5rem 0}
.city-row{display:grid;grid-template-columns:1.2fr 1.2fr .6fr 1fr auto;gap:.45rem;align-items:end;margin-bottom:.6rem}
.city-row input{width:100%}
.city-row .remove{background:#ef4444;color:#fff;border:none;border-radius:.5rem;padding:.45rem .6rem;cursor:pointer}

.hours-block{display:flex;flex-direction:column;gap:.4rem;margin-top:.4rem}
.hours-day{display:grid;grid-template-columns:.7fr 1fr 1fr;gap:.4rem;align-items:center;font-size:.9rem}

/* Textarea */
.special-conditions textarea{width:100%;min-height:80px;padding:.6rem;border:1px solid #d0d5dd;border-radius:.5rem;font-size:.9rem;resize:vertical}

/* Buttons */
.btn{border:1px solid #d0d5dd;background:#fff;color:var(--brand-600);border-radius:.55rem;padding:.6rem .9rem;cursor:pointer;transition:.2s ease}
.btn:hover{background:var(--brand-500);border-color:var(--brand-500);color:#fff;transform:translateY(-1px)}
.btn.primary{background:var(--brand-600);color:#fff;border-color:var(--brand-600);font-weight:700}
.btn.primary:hover{filter:brightness(.95)}
.btn.ghost{background:#f0fdf4;border:1px dashed var(--brand-600);color:var(--brand-600)}
.btn.warn{background:#fff0f0;color:#b42318;border-color:#f3b3b3}
.btn.warn:hover{background:#ffd9d9}
.w-100{width:100%}

/* Chat */
.chat{border:1px solid #d0d5dd;background:var(--chat-bg);border-radius:var(--radius);margin:.9rem 0 1.1rem;max-width:1100px;height:420px;display:flex;flex-direction:column;box-shadow:var(--shadow)}
.chat-messages{flex:1;overflow:auto;padding:1rem;display:flex;flex-direction:column;gap:.65rem}
.chat-message{max-width:85%;padding:.7rem .9rem;border-radius:1rem;font-size:.92rem;line-height:1.35;box-shadow:0 1px 4px rgba(0,0,0,0.05);animation:fadeIn .3s ease}
.chat-message.user{align-self:flex-end;background:var(--chat-user);color:var(--brand-600)}
.chat-message.ai{align-self:flex-start;background:var(--chat-ai);color:var(--ink)}
.chat-input{display:flex;gap:.5rem;padding:.6rem;background:#fff;border-top:1px solid #d0d5dd;border-bottom-left-radius:var(--radius);border-bottom-right-radius:var(--radius)}
.chat-input input{flex:1;padding:.6rem;border:1px solid #d0d5dd;border-radius:.5rem}

/* Itinerary */
.main h2{margin-bottom:.5rem}
.city-tabs{display:flex;gap:.5rem;flex-wrap:wrap;margin:.75rem 0}
.city-tab{border:1px solid #d0d5dd;background:#fff;color:var(--brand-600);border-radius:999px;padding:.45rem .8rem;cursor:pointer;transition:.2s ease}
.city-tab.active{background:var(--brand-500);border-color:var(--brand-500);color:#fff}

.day-title{margin:.6rem 0 .35rem;font-weight:700;color:var(--brand-600)}
table.itinerary{width:100%;border-collapse:collapse;margin:.25rem 0 .9rem;font-size:.86rem}
table.itinerary th,table.itinerary td{border:1px solid #e5e7eb;padding:.55rem;text-align:center;vertical-align:middle}
table.itinerary th{background:#f1f5f9;font-weight:600}

.pager{display:flex;gap:.35rem;justify-content:center;margin:.75rem 0}
.pager button{border:1px solid #d0d5dd;background:#fff;border-radius:.4rem;padding:.35rem .6rem;cursor:pointer}
.pager button.active{background:var(--brand-500);color:#fff;border-color:var(--brand-500)}
.pager .ghost{opacity:.5;pointer-events:none}

/* Toolbar */
.toolbar{display:grid;grid-template-columns:repeat(5,1fr);gap:.5rem;margin-top:.9rem;max-width:1100px}
@media (max-width:960px){.toolbar{grid-template-columns:repeat(2,1fr)}}

/* CTA */
.floating-cta{position:fixed;right:1rem;bottom:1rem;padding:1rem 1.1rem;background:var(--brand-500);color:#fff;border:none;border-radius:.8rem;box-shadow:var(--shadow);font-weight:700;cursor:pointer;z-index:60;transition:.25s}
.floating-cta:hover{background:var(--brand-600);transform:translateY(-2px)}

/* Footer */
.footer{background:#fff;border-top:1px solid #e5e7eb;padding:1rem;text-align:center;color:var(--muted);font-size:.85rem;margin-top:1rem}
.footer a{color:var(--brand-600);text-decoration:none;margin:0 .25rem}

/* Upsell */
.upsell{position:fixed;inset:0;background:rgba(0,0,0,.35);display:flex;align-items:center;justify-content:center;z-index:80}
.upsell-card{background:#fff;border-radius:1rem;box-shadow:var(--shadow);padding:1.1rem;max-width:380px;width:92%}
.upsell-card h3{margin:.25rem 0 .5rem}

/* Anim */
@keyframes fadeIn{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}
